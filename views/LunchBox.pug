extends layout

block content
  h1= title
  - let result  = results;
  div(class="container-fluid")
  div(class="row m-1")
   each value,index in results
    - let destination = `buy(\"/LunchBox/update?id=${value._id}\")`
    //-div(class="col-sm-2" onclick=`buy(${index})`)  #{value.LunchBox_name}, #{value.LunchBox_price}, #{value.LunchBox_size}
    div(class="row-sm-2", class="m-1")  #{value.LunchBox_name}, #{value.LunchBox_price}, #{value.LunchBox_size}
      button.btn( class="btn-primary ml-1", onclick= destination) Update
   script.
    function buy(path)
    {
     //- alert(`Your purchased Item ${index+1}`)
     window.location.href=path
    }
    passport.use(new LocalStrategy(
    function(username, password, done) {
    Account.findOne({ username: username }, function (err, user) {
    if (err) { return done(err); }
     if (!user) {
     return done(null, false, { message: 'Incorrect username.' });
    }
    if (!user.validPassword(password)) {
     return done(null, false, { message: 'Incorrect password.' });
    }
   return done(null, user);
   });
  }